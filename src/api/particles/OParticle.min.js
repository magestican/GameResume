(function(){angular.module("Factories").factory("Particle",["$rootScope","$q",function(){var n;return n=function(n,t,i){return this.position=n||new Vector(0,0),this.velocity=t||new Vector(0,0),this.acceleration=i||new Vector(0,0),void 0},n.prototype.move=function(){return this.velocity.add(this.acceleration),this.position.add(this.velocity)},n.prototype.submitToFields=function(n){var t,f,e,o,i,r,u,h,s;for(e=0,o=0,s=[],u=0,h=n.length;u<h;u++)t=n[u],i=t.position.x-this.position.x,r=t.position.y-this.position.y,f=t.mass/Math.pow(i*i+r*r,1.5),e+=i*f,o+=r*f,s.push(this.acceleration=new Vector(e,o));return s},n}]);angular.module("Services").service("ParticleSvc",["$q","$rootScope","$location","EmitterSvc","DeviceSvc",function(n,t,i,r,u){var e,o,s,h,f;return f=this.particles=[],o=this.fields=[],h=this.particleSize=1,s=this.maxParticles=4e3,e=this.emissionRate=4,this.DrawParticles=function(){var r,e,o,s,t,n,h,i;for(r=Math.floor(Math.random()*255)+0,e=Math.floor(Math.random()*255)+0,o=Math.floor(Math.random()*255)+0,u.ctx.fillStyle="rgb("+r.toString()+","+e.toString()+","+o.toString()+")",i=[],n=0,h=f.length;n<h;n++)s=f[n],t=s.position,i.push(u.ctx.fillRect(t.x,t.y,this.particleSize,this.particleSize));return i},this.PlotParticles=function(n,t){var e,i,r,u,s;for(e=[],u=0,s=f.length;u<s;u++)(i=f[u],r=i.position,r.x<0||r.x>n||r.y<0||r.y>t)||(i.submitToFields(o),i.move(),e.push(i));return f=e},this.AddNewParticles=function(){var u,c,o,n,h,t,i;if(!(f.length>s)){for(t=r.emitters,i=[],n=0,h=t.length;n<h;n++)u=t[n],i.push(function(){var n,t;for(t=[],o=n=0;0<=e?n<=e:n>=e;o=0<=e?++n:--n)try{t.push(f.push(u.emitParticle()))}catch(i){c=i;t.push(function(){}())}return t}());return i}},void 0}])}).call(this);
//# sourceMappingURL=OParticle.min.js.map
